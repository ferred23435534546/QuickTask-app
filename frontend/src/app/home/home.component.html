<header class="app-header">
    <div class="logo-search-container">
       <div class="logo">QuickTask</div>
       <button class="search-icon-button" (click)="toggleSearch()" title="Buscar Tareas" aria-label="Alternar campo de búsqueda">
         <i class="fas fa-search"></i>
       </button>
       <input
         *ngIf="isSearchVisible"
         type="search"
         class="header-search-input"
         id="header-search-input"
         placeholder="Buscar tareas..."
         aria-label="Campo de búsqueda de tareas">
    </div>
  
    <nav class="main-nav">
      <a routerLink="/">Inicio</a>
      <a routerLink="/edit-profile" class="profile-link" title="Perfil" aria-label="Perfil de usuario">
        <i class="fas fa-user-circle profile-icon"></i>
      </a>
    </nav>
  </header>
  
  <div class="main-content-area">
    <aside class="left-column">
        <section class="filters-section card">
            <h3>Filtros</h3>
            <div class="form-group">
              <label for="keyword">Palabra clave</label>
              <input type="text" id="keyword" name="keyword">
            </div>
            <div class="form-group">
              <label for="category">Categoría</label>
              <select id="category" name="category">
                <option value="">-- Seleccionar Categoría --</option>
                <option value="cleaning">Limpieza</option>
                <option value="gardening">Jardinería</option>
                <option value="delivery">Entrega</option>
                <option value="moving">Ayuda con Mudanza</option>
                <option value="translation">Traducción</option>
                <option value="other">Otros</option>
              </select>
            </div>
            <button class="search-button">Buscar</button>
          </section>

      <section class="post-task-section card">
        <h3>Publicar Tarea</h3>
        <p>Describe la tarea que necesitas con un presupuesto</p>
        <button class="get-started-button" routerLink="/create-task">Comenzar</button>
      </section>

      <section class="post-task-section card">
        <h3>MyQuickSpace</h3>
        <p>Lee las novedades en nuestro blog</p>
        <button class="get-started-button" routerLink="/blog">Acceder</button>
      </section>
    </aside>
  
    <section class="right-column">
        <h2>Últimas Tareas</h2>
    
        <div class="task-item card" *ngFor="let task of tasks">
          <div class="task-info">
            <h4>{{task.title}}</h4>
            <p>{{task.description}}</p>
            <div class="badges">
              <span class="badge category-badge">Categoría: {{task.category}}</span>
              <span class="badge location-badge">Ubicación: {{task.location}}</span>
              <span class="badge budget-badge" *ngIf="task.budget">Presupuesto: {{task.budget}}€</span>
            </div>
          </div>
          <button class="view-button" [routerLink]="['/task', task.id]">Ver</button>
        </div>

        <div class="pagination">
          <button class="page-button" [class.active]="currentPage === 1" (click)="onPageChange(1)">1</button>
          <button *ngFor="let page of pages.slice(1)" class="page-button" [class.active]="currentPage === page" (click)="onPageChange(page)">
            {{page}}
          </button>
          <button *ngIf="totalPages > pages[pages.length - 1]" class="page-button">...</button>
          <button *ngIf="totalPages > pages[pages.length - 1]" class="page-button" (click)="onPageChange(totalPages)">{{totalPages}}</button>
          <button class="page-button next" [disabled]="currentPage === totalPages" (click)="onPageChange(currentPage + 1)">
            <i class="fas fa-chevron-right"></i>
          </button>
        </div>
      </section>
  </div>

  <footer>
    <p>&copy; 2025 QuickTask. Todos los derechos reservados.</p>
  </footer>